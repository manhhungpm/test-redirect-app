<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>App Redirection</title>
</head>
<body>


  <iframe style="display:none" height="0" width="0" id="loader"></iframe>
  
  <a href="myvpbank://myvpbank">Click me</a>
  
  
  <a href="https://play.google.com/store/apps/details?id=com.vpbank.myvpbank&referrer=utm_source%3Dtest_source%26utm_medium%3Dtest_medium%26utm_term%3Dtest-term%26utm_content%3Dtest_content%26utm_campaign%3Dtest_name">Click me 2 store</a>



  <script>
    function getParameterByName(name, url) {
      if (!url) url = window.location.href;
      name = name.replace(/[\[\]]/g, "\\$&");
      var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
          results = regex.exec(url);
      if (!results) return null;
      if (!results[2]) return '';
      return decodeURIComponent(results[2].replace(/\+/g, " "));
    }

    (function(){

    //1
    // var fallbackLink = 'http://example.com/my-web-app/'+window.location.search+window.location.hash;
    // var isiOS = navigator.userAgent.match('iPad') || navigator.userAgent.match('iPhone') || navigator.userAgent.match('iPod'),
    //     isAndroid = navigator.userAgent.match('Android');
    // if (isiOS || isAndroid) {
    //   //document.getElementById('loader').src = 'com.vpbank.myvpbank://com.vpbank.myvpbank'+window.location.search+window.location.hash;
    //   document.getElementById('loader').src = 'com.vpbank.myvpbank://';
    //   fallbackLink = isAndroid ? 'https://play.google.com/store/apps/details?id=com.vpbank.myvpbank&hl=vi&gl=US' :
    //                              'itms-apps://itunes.apple.com/app/myvpbank/id1661762590' ;
    // }
    // window.setTimeout(function (){ window.location.replace(fallbackLink); }, 1);
    //--


    //2
    // setTimeout(function () { window.location = "itms-apps://itunes.apple.com/app/myvpbank/id1661762590"; }, 25);
    // window.location = "com.vpbank.myvpbank://";
    //--


    //3
//     var fallbackLink = getParameterByName('redirect_url') ? getParameterByName('redirect_url') : 'http://example.com/my-web-app/';
//     var androidCustomProtocol = getParameterByName('android_custom_protocol');
//     var iosCustomProtocol = getParameterByName('ios_custom_protocol');
//     var androidStore = getParameterByName('android_store');
//     var iosStore = getParameterByName('ios_store');

//     var isiOS = navigator.userAgent.match('iPad') || navigator.userAgent.match('iPhone') || navigator.userAgent.match('iPod');
//     var isAndroid = navigator.userAgent.match('Android');

//     if(isiOS) {
//       setTimeout(function () { window.location = iosStore; }, 25);
//       window.location = iosCustomProtocol;
//     } else if (isAndroid) {
//       setTimeout(function () { window.location = androidStore; }, 1000);
//       window.location = androidCustomProtocol;
//     } else {
//       window.setTimeout(function (){ window.location.replace(fallbackLink); }, 1);
//     }

    })();
  </script>
</body>
</html>
